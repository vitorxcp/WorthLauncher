<style>
    #view-social {
        height: 100% !important;
        max-height: 100% !important;
        overflow: hidden !important;
        position: relative !important;
        padding: 0 !important;
    }

    #chat-main-container {
        display: flex !important;
        flex-direction: column !important;
        height: 100% !important;
        min-height: 0 !important;
        overflow: hidden !important;
        background: #00000082 !important;
        border-left: 1px solid rgba(255, 255, 255, 0.05) !important;
    }

    #chat-messages {
        flex: 1 1 0% !important;
        min-height: 0 !important;
        overflow-y: auto !important;
        display: flex !important;
        flex-direction: column !important;
    }
</style>
<section id="view-social"
    class="flex-1 hidden-force fade-enter h-full flex flex-col p-4 select-none relative overflow-hidden"
    style="position: relative; height: 100%; width: 100%;">
    <div class="absolute inset-0 pointer-events-none"></div>

    <div class="flex items-center justify-between mb-6 px-2 shrink-0 z-10">
        <div class="flex flex-col">
            <h2 class="text-3xl font-black text-white flex items-center gap-3 tracking-tighter">
                Social & Suporte
            </h2>
            <p class="text-zinc-500 text-xs font-medium ml-1">Conecte-se ou peça ajuda</p>
        </div>

        <div class="relative group z-40">
            <button
                class="flex items-center gap-3 bg-zinc-900/50 border border-white/5 pl-3 pr-4 py-2 rounded-full hover:bg-zinc-800 hover:border-white/10 transition-all duration-300 group-hover:shadow-[0_0_20px_rgba(0,0,0,0.3)]">
                <div class="relative">
                    <div id="my-status-dot"
                        class="w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"></div>
                    <div class="absolute inset-0 rounded-full bg-emerald-500 animate-ping opacity-20"></div>
                </div>
                <div class="flex flex-col items-start">
                    <span id="my-status-text" class="text-xs font-bold text-white leading-none">Online</span>
                    <span id="my-status-description"
                        class="text-[9px] text-zinc-500 font-medium leading-none mt-1">Visível para todos</span>
                </div>
                <i data-lucide="chevron-down"
                    class="w-4 h-4 text-zinc-500 ml-2 group-hover:text-yellow-500 transition-colors"></i>
            </button>
            <div
                class="absolute right-0 top-full mt-[3px] w-48 bg-[#0a0a0b] border border-white/10 rounded-2xl shadow-2xl overflow-hidden hidden group-hover:block transform origin-top-right transition-all animate-in fade-in slide-in-from-top-2 p-1.5 z-[400]">
                <button onclick="changeMyStatus('online')"
                    class="w-full text-left px-3 py-2.5 text-xs font-medium text-zinc-400 hover:bg-white/5 hover:text-white rounded-xl flex items-center gap-3 transition-colors group/item">
                    <div
                        class="w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.4)] group-hover/item:scale-125 transition-transform">
                    </div> Online
                </button>
                <button onclick="changeMyStatus('ocupado')"
                    class="w-full text-left px-3 py-2.5 text-xs font-medium text-zinc-400 hover:bg-white/5 hover:text-white rounded-xl flex items-center gap-3 transition-colors group/item">
                    <div
                        class="w-2 h-2 rounded-full bg-rose-500 shadow-[0_0_8px_rgba(244,63,94,0.4)] group-hover/item:scale-125 transition-transform">
                    </div> Ocupado
                </button>
                <button onclick="changeMyStatus('ausente')"
                    class="w-full text-left px-3 py-2.5 text-xs font-medium text-zinc-400 hover:bg-white/5 hover:text-white rounded-xl flex items-center gap-3 transition-colors group/item">
                    <div
                        class="w-2 h-2 rounded-full bg-amber-500 shadow-[0_0_8px_rgba(245,158,11,0.4)] group-hover/item:scale-125 transition-transform">
                    </div> Ausente
                </button>
                <div class="h-px bg-white/5 my-1 mx-2"></div>
                <button onclick="changeMyStatus('offline')"
                    class="w-full text-left px-3 py-2.5 text-xs font-medium text-zinc-400 hover:bg-white/5 hover:text-white rounded-xl flex items-center gap-3 transition-colors group/item">
                    <div class="w-2 h-2 rounded-full bg-zinc-600 group-hover/item:scale-125 transition-transform"></div>
                    Invisível
                </button>
            </div>
        </div>
    </div>

    <div class="flex-1 flex gap-6 h-[calc(100%-5rem)] overflow-hidden">

        <div
            class="w-80 bg-zinc-950/40 rounded-[2rem] flex flex-col border border-white/5 shadow-2xl shrink-0 overflow-hidden">

            <div class="flex p-2 gap-1 border-b border-white/5 bg-black/20">
                <button onclick="switchSocialTab('friends')" id="tab-btn-friends"
                    class="flex-1 py-2 text-xs font-bold text-black bg-yellow-500 rounded-xl transition-all shadow-lg shadow-yellow-500/10">
                    Amigos
                </button>
                <button onclick="switchSocialTab('tickets')" id="tab-btn-tickets"
                    class="flex-1 py-2 text-xs font-bold text-zinc-500 hover:text-white hover:bg-white/5 rounded-xl transition-all">
                    Suporte
                </button>
            </div>

            <div id="tab-content-friends" class="flex-1 flex flex-col h-full overflow-hidden">
                <div class="p-4 pb-2">
                    <div
                        class="flex gap-2 relative group-focus-within:ring-2 ring-yellow-500/20 rounded-xl transition-all bg-black/20 border border-white/5">
                        <input type="text" id="input-add-friend" placeholder="Adicionar amigo..."
                            class="flex-1 bg-transparent px-4 py-3 text-xs text-white placeholder:text-zinc-600 outline-none">
                        <button id="btn-add-friend" title-app="Enviar Pedido"
                            class="px-4 text-zinc-500 hover:text-yellow-500 transition-colors">
                            <i data-lucide="user-plus" class="w-4 h-4"></i>
                        </button>
                    </div>
                </div>
                <div id="friends-list" class="flex-1 overflow-y-auto px-3 py-2 space-y-1 custom-scrollbar">
                    <div class="flex flex-col items-center justify-center h-40 text-zinc-700 gap-4 opacity-60">
                        <i data-lucide="users" class="w-6 h-6 stroke-[1.5]"></i>
                        <span class="text-xs font-medium">Nenhum amigo ainda</span>
                    </div>
                </div>
            </div>

            <div id="tab-content-tickets" class="flex-1 flex flex-col h-full overflow-hidden hidden">
                <div class="p-4 pb-2">
                    <button onclick="openNewTicketModal()"
                        class="w-full bg-zinc-800 hover:bg-zinc-700 border border-white/5 text-white py-3 rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2 group shadow-lg">
                        <i data-lucide="plus-circle"
                            class="w-4 h-4 text-yellow-500 group-hover:scale-110 transition-transform"></i>
                        Abrir Novo Ticket
                    </button>
                </div>
                <div id="tickets-list" class="flex-1 overflow-y-auto px-3 py-2 space-y-1 custom-scrollbar">
                    <div class="flex flex-col items-center justify-center h-40 text-zinc-700 gap-4 opacity-60">
                        <i data-lucide="ticket" class="w-6 h-6 stroke-[1.5]"></i>
                        <span class="text-xs font-medium">Nenhum ticket aberto</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="chat-main-container"
            class="flex-1 bg-[#00000082] rounded-[2rem] border border-white/5 relative shadow-2xl min-w-0 z-[1] overflow-hidden flex flex-col">

            <div id="chat-placeholder"
                class="absolute inset-0 flex flex-col items-center justify-center z-10 bg-zinc-950/90">
                <div class="relative mb-6 group">
                    <div
                        class="absolute inset-0 bg-yellow-500/20 rounded-full group-hover:bg-yellow-500/30 transition-all duration-700">
                    </div>
                    <div
                        class="w-24 h-24 bg-zinc-900 rounded-3xl flex items-center justify-center border border-white/10 relative shadow-2xl">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            data-lucide="message-circle"
                            class="lucide lucide-message-circle w-10 h-10 text-yellow-500/80">
                            <path
                                d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719">
                            </path>
                        </svg>
                    </div>
                </div>
                <h3 class="text-white font-bold text-2xl tracking-tight">Social &amp; Staff</h3>
                <p class="text-sm text-zinc-500 mt-2 font-medium">Selecione uma conversa para começar</p>
            </div>

            <div
                class="h-20 border-b border-white/5 flex items-center px-8 justify-between bg-white/[0.01] z-30 relative shrink-0">
                <div class="flex items-center gap-4">
                    <div class="relative group cursor-pointer">
                        <img id="chat-header-avatar" src=""
                            class="relative w-11 h-11 rounded-xl bg-zinc-800 object-cover border border-white/10 shadow-lg">
                        <div
                            class="absolute -bottom-1 -right-1 w-4 h-4 bg-[#121212] rounded-full flex items-center justify-center">
                            <div class="w-2.5 h-2.5 bg-zinc-500 rounded-full" id="chat-header-status-dot"></div>
                        </div>
                    </div>
                    <div class="flex flex-col">
                        <h3 id="chat-header-nick" class="text-base font-bold text-white tracking-wide truncate">...</h3>
                        <span id="chat-header-status"
                            class="text-[10px] font-bold text-zinc-500 uppercase tracking-widest">OFFLINE</span>
                    </div>
                </div>
                <div class="relative" id="container-options-chat">
                    <button id="btn-chat-options"
                        class="w-10 h-10 flex items-center justify-center rounded-xl text-zinc-500 hover:text-white hover:bg-white/5 transition-all border border-transparent">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            data-lucide="more-vertical" class="lucide lucide-more-vertical w-5 h-5">
                            <circle cx="12" cy="12" r="1"></circle>
                            <circle cx="12" cy="5" r="1"></circle>
                            <circle cx="12" cy="19" r="1"></circle>
                        </svg>
                    </button>
                    <div id="menu-chat-dropdown"
                        class="hidden absolute right-0 top-full mt-2 w-52 bg-[#0f0f10] border border-white/10 rounded-2xl shadow-2xl z-50 p-1.5">
                    </div>
                </div>
            </div>

            <div id="chat-messages" class="px-6 py-4 custom-scrollbar">
            </div>

            <div class="p-6 relative z-20 shrink-0" style="background: transparent;">
                <form id="chat-form"
                    class="relative flex items-end gap-3 p-1.5 border border-white/10 rounded-[1.5rem] shadow-2xl transition-all duration-300"
                    style="background-color: rgba(30, 30, 35, 0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);">

                    <button type="button" id="btn-emoji-toggle"
                        class="p-3 text-zinc-400 hover:text-yellow-400 rounded-full transition-all shrink-0">
                        <i data-lucide="smile" class="w-5 h-5"></i>
                    </button>

                    <input type="text" id="chat-input" placeholder="Digite sua mensagem..." autocomplete="off"
                        class="flex-1 bg-transparent py-3.5 text-sm text-white placeholder:text-zinc-500 outline-none">

                    <button type="submit" title-app="Enviar Mensagem"
                        class="bg-yellow-500 hover:bg-yellow-400 text-black p-3 rounded-full font-bold shadow-lg shrink-0 mr-1 mb-0.5 active:scale-95 transition-all">
                        <i data-lucide="send-horizontal" class="w-5 h-5 stroke-[2.5]"></i>
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>

<div id="modal-new-ticket"
    class="hidden fixed inset-0 z-[200] bg-black/80 flex items-center justify-center animate-in fade-in">
    <div class="bg-[#0f0f10] border border-white/10 p-6 rounded-2xl w-96 shadow-2xl scale-100 animate-in zoom-in-95">
        <h3 class="text-xl font-bold text-white mb-1">Abrir Ticket</h3>
        <p class="text-xs text-zinc-500 mb-4">Descreva seu problema resumidamente.</p>

        <input type="text" id="input-ticket-subject" placeholder="Assunto (Ex: Bug no launcher)"
            class="w-full bg-zinc-900 border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:border-yellow-500 outline-none mb-4">

        <div class="flex gap-2">
            <button onclick="document.getElementById('modal-new-ticket').classList.add('hidden')"
                class="flex-1 py-2 bg-white/5 hover:bg-white/10 text-zinc-400 rounded-lg text-xs font-bold transition">Cancelar</button>
            <button onclick="confirmCreateTicket()"
                class="flex-1 py-2 bg-yellow-500 hover:bg-yellow-400 text-black rounded-lg text-xs font-bold transition">Criar</button>
        </div>
    </div>
</div>

<div id="emoji-picker"
    class="hidden fixed w-80 h-96 bg-[#0f0f10] border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-[9999]">
</div>